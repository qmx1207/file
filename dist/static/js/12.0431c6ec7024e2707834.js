webpackJsonp([12],{"1Fm7":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Muz9"),n=a.n(s);n.a.defaults.withCredentials=!0;var c={data:function(){return{name:"",pass:"",user_id:"",code:"",captcha_code:""}},methods:{tui:function(){this.$router.go(-1)},deng:function(){var t=this,e=/^[1][3,4,5,7,8][0-9]{9}$/;console.log(e.test(this.name)),console.log(this.pass.length),console.log(this.captcha_code),1==e.test(this.name)&&this.pass.length<6?n.a.post("http://elm.cangdu.org/v2/login",{captcha_code:this.captcha_code,password:this.pass,username:this.name}).then(function(e){t.user_id=e.data.user_id;var a=e.config.data.split(",")[0].split(":")[1].slice(1,5);console.log(e.data.id),t.captcha_code==a?(t.$store.state.arr=t.name,console.log(t.$store.state.arr),t.$router.push("../List")):alert("验证码错误")}).then(function(e){var a={name:t.name,pass:t.pass,log:!0,id:t.user_id};t.$store.commit("loca",a)}):alert("用户名或密码错误"),this.name?this.pass||this.$message.error("请输入密码"):this.$message.error("请输入用户名")},cheng:function(){var t=this;n.a.post("http://elm.cangdu.org/v1/captchas").then(function(e){console.log(e),""!=e.data.code&&(t.code=e.data.code)})}},mounted:function(){this.cheng()}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dl"},[a("div",{staticClass:"head"},[a("i",{staticClass:"el-icon-arrow-left",on:{click:t.tui}}),t._v(" "),a("span",[t._v("密码登录")])]),t._v(" "),a("div",{staticClass:"center"},[a("div",{staticClass:"zhang"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"inp1",attrs:{type:"text",placeholder:"账号"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"mima"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pass,expression:"pass"}],staticClass:"inp1",attrs:{type:"text",placeholder:"密码"},domProps:{value:t.pass},on:{input:function(e){e.target.composing||(t.pass=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"yanzheng"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha_code,expression:"captcha_code"}],staticClass:"inp1",attrs:{type:"text",placeholder:"验证码"},domProps:{value:t.captcha_code},on:{input:function(e){e.target.composing||(t.captcha_code=e.target.value)}}}),t._v(" "),t.code?a("img",{attrs:{src:t.code,alt:""}}):t._e(),t._v(" "),a("button",{on:{click:t.cheng}},[t._v("换一张")])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"deng"},[a("span",{on:{click:t.deng}},[t._v("登录")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wen"},[e("p",[this._v("温馨提示：未注册过的账号，登录时将自动注册")]),this._v(" "),e("p",[this._v("注册过的用户可凭账号密码登录")])])}]};var o=a("VU/8")(c,i,!1,function(t){a("hO6T")},"data-v-0d492dcc",null);e.default=o.exports},hO6T:function(t,e){}});
//# sourceMappingURL=12.0431c6ec7024e2707834.js.map